<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>购物车</title>
		<meta name="viewport" content="initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<!-- sui基础样式 -->
		<link rel="stylesheet" href="css/sm.min.css">
		<!-- 自定义图标样式 -->
		<link type="text/css" rel="stylesheet" charset="UTF-8" href="css/iconfont.css" />
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			body {
				background-color: #fff;
				overflow: auto;
			}
			/** 头部**/
			
			header {
				padding: .5rem;
				position: fixed;
				top: 0;
				background-color: #f5f5f5;
				width: 100%;
			}
			
			header #finsh{
				display: none;
			}
			
			header i {
				font-size: .8rem!important;
			}
			/**购物车详情**/
			
			.scroll {
				padding-top: 2rem;
				padding-bottom: 2rem;
			}
			
			.scroll ul li {
				display: flex;
				align-items: center;
				border-bottom: 1px solid #f5f5f5;
				padding: .5rem;
			}
			
			.scroll ul li img {
				width: 4rem;
			}
			
			.scroll ul li .item {
				width: 100%;
			}
			
			.scroll ul li .item .spmc {
				display: flex;
				height: 1.5rem;
			}
			
			.scroll ul li .item .spmc .delete{
				display: none;
			}
			
			.scroll ul li .item .spmc span:first-child {
				width: 90%;
			}
			
			.scroll ul li .item .spmc span:last-child {
				background-color: #f5f5f5;
				border-radius: 100%;
				width: 30px;
				height: 30px;
				text-align: center;
			}
			
			.scroll ul li .item .spmc span i {
				font-size: 1rem;
				color: red;
			}
			
			.scroll ul li .item p {
				margin: 0;
				font-size: .7rem;
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap;
			}
			
			.scroll ul li .item .price {
				display: flex;
				width: 50%;
			}
			
			.scroll ul li .item .price span {
				flex: 1;
				font-size: .7rem;
				color: red;
			}
			/** 数量 **/
			
			.sl {
				display: flex;
				background-color: #fff;
				align-items: center;
			}
			
			.sl .price {
				color: red;
			}
			
			.sl .sl_item {
				border: 1px solid #999;
				border-radius: 10px;
				width: 5rem;
				margin-left: 1rem;
				margin-right: .3rem;
				display: flex;
				justify-content: center;
				align-items: center;
			}
			
			.sl .sl_item i {
				margin: auto;
				font-size: .5rem;
			}
			
			.sl .sl_item input {
				width: 3rem;
				border: none;
				text-align: center;
				border-left: 1px solid #ccc;
				border-right: 1px solid #ccc;
				padding: .2rem;
			}
			/** 底部按钮 **/
			
			footer {
				background-color: #fff;
				padding: .5rem;
				display: flex;
				align-items: center;
				border-top: 1px solid #999;
				position: fixed;
				bottom: 2.5rem;
				width: 100%;
			}
			
			footer label {
				width: 30%;
			}
			
			footer label input {
				margin-left: .5rem;
			}
			
			footer .total {
				width: 40%;
			}
			
			footer .total span {
				color: red;
			}
			
			footer .btn {
				width: 30%;
				text-align: right;
			}
			
			footer .btn button {
				padding: .2rem .5rem;
				border-radius: 30px;
				border: 1px solid red;
				color: #fff;
				background-color: red;
			}
			
			footer  #deleteAll{
				display: none;
			}
			/** 底部导航 **/
			
			.bar {
				position: fixed;
			}
			
			.bar-tab {
				display: flex;
			}
			
			.bar-tab .tab-item {
				width: 2rem;
				margin: auto;
			}
		</style>
	</head>

	<body>
		<header>
			<label id="editor">
				<span >编辑</span>
				<i class="iconfont icon-bianji"></i>
			</label>
			<label id="finsh">
				<span >完成</span>
				<i class="iconfont icon-baocun"></i>
			</label>
		</header>
		<div class="scroll">
			<ul id="spitem">
				<li>
					<input type="checkbox" name="checkbox"/>
					<img src="img/img1.jpg" />
					<div class="item">
						<view class="spmc"><span>蒙牛真果粒草莓味150ml</span><span class="delete"><i class="iconfont icon-shanchu"></i></span></view>
						<p>1*12瓶</p>
						<div class="sl">
							<span class="price">￥120.00</span>
							<div class="sl_item">
								<i class="iconfont icon-jiajian-"></i>
								<input value="1" type="number" />
								<i class="iconfont icon-jiajian-1"></i>
							</div>
						</div>
					</div>
				</li>
				<li>
					<input type="checkbox" name="checkbox"/>
					<img src="img/img1.jpg" />
					<div class="item">
						<view class="spmc"><span>蒙牛真果粒草莓味250ml</span><span class="delete"><i class="iconfont icon-shanchu"></i></span></view>
						<p>1*12瓶</p>
						<div class="sl">
							<span class="price">￥120.00</span>
							<div class="sl_item">
								<i class="iconfont icon-jiajian-"></i>
								<input value="1" type="number" />
								<i class="iconfont icon-jiajian-1"></i>
							</div>
						</div>
					</div>
				</li>
				<li>
					<input type="checkbox" name="checkbox"/>
					<img src="img/img1.jpg" />
					<div class="item">
						<view class="spmc"><span>蒙牛真果粒草莓味350ml</span><span class="delete"><i class="iconfont icon-shanchu"></i></span></view>
						<p>1*12瓶</p>
						<div class="sl">
							<span class="price">￥120.00</span>
							<div class="sl_item">
								<i class="iconfont icon-jiajian-"></i>
								<input value="1" type="number" />
								<i class="iconfont icon-jiajian-1"></i>
							</div>
						</div>
					</div>
				</li>
			</ul>
		</div>
		<footer>
			<label id="selectall">全选<input type="checkbox"/></label>
			<div class="total">总价：<span>￥560</span></div>
			<div class="btn" id="pay">
				<button>立即支付</button>
			</div>
			<div class="btn" id="deleteAll">
				<button>删 除</button>
			</div>
		</footer>
		<nav class="bar bar-tab">
			<a class="tab-item" href="index.html">
				<span class="icon iconfont icon-shouye"></span>
				<span class="tab-label">首页</span>
			</a>
			<a class="tab-item" href="classify.html">
				<span class="icon iconfont icon-fenlei"></span>
				<span class="tab-label">分类</span>
			</a>
			<a class="tab-item  active" href="car.html">
				<span class="icon iconfont icon-gouwu"></span>
				<span class="tab-label">购物车</span>
			</a>
			<a class="tab-item" href="my.html">
				<span class="icon iconfont icon-wode2"></span>
				<span class="tab-label">我</span>
			</a>
		</nav>
		<!-- sui基础库 -->
		<script type='text/javascript' src="js/zepto.min.js.js" charset='utf-8'></script>
		<script type='text/javascript' src="js/sm.min.js" charset='utf-8'></script>
		<!-- 自定义js -->
		<script>
			$(function(){
				//编辑
				$("#editor").on("click",function(){
					$(this).css("display","none");
					$("#finsh").css("display","block")
					$(".delete").css("display","block")
					$("#pay").css("display","none")
					$("#deleteAll").css("display","block")
				})
				$("#finsh").on("click",function(){
					$(this).css("display","none");
					$("#editor").css("display","block")
					$(".delete").css("display","none")
					$("#pay").css("display","block")
					$("#deleteAll").css("display","none")
				})
				//删除单个商品
				$(".delete").each(function(e){
					$(this).on("click",function(){
						$("#spitem li").eq(e).remove();
						$.toast("删除成功");
					})
				})
				//选删商品
				$("#deleteAll").on("click",function(){
					var flag = false;
					$("input[name='checkbox']").each(function(){
						if($(this).prop('checked')){
							flag=true;
						}
					})
					if(flag){
						$("input[name='checkbox']").each(function(){
							if($(this).prop('checked')){
								$(this).parent("li").remove();
							}
						})
						$.toast("删除成功");
					}else{
						$.toast("选择要删除商品");
					}
					//$("#spitem").html("");
				})
				//全选
				$("#selectall").on("click",function(){
					if($(this).find("input").prop('checked')){
						$("input[name='checkbox']").prop("checked",true)
					}else{
						$("input[name='checkbox']").prop("checked",false)
					}
				})
				//单选
				$("input[name='checkbox']").each(function(){
					$(this).on("click",function(){
						var flag = true;
						$("input[name='checkbox']").each(function(){
							if(!$(this).prop('checked')){
								flag=false;
							}
						})
						if(flag){
							$("#selectall").find("input").prop("checked",true)
						}else{
							$("#selectall").find("input").prop("checked",false)
						}
					})
				})
			})
		</script>
	</body>

</html>
